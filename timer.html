<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tug of War</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
        }

        #game-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 500px;
        }

        #rope {
            width: 10px;
            height: 300px;
            background-color: brown;
            position: relative;
        }

        .player {
            width: 100px;
            height: 100px;
            position: absolute;
            bottom: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
        }

        #player1 {
            right: 0;
        }

        #player2 {
            left: 0;
        }

        .score {
            font-size: 24px;
            margin-bottom: 10px;
        }

        #timer {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 20px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="rope"></div>
        <div id="player1" class="player">
            <div class="score">Score: <span id="player1-score">0</span></div>
            <img src="player1.png" alt="Player 1" style="width: 100%;">
        </div>
        <div id="player2" class="player">
            <div class="score">Score: <span id="player2-score">0</span></div>
            <img src="player2.png" alt="Player 2" style="width: 100%;">
        </div>
    </div>
    <div id="timer">Time left: <span id="time-left">60</span> s</div>

    <script>
        const player1 = document.getElementById('player1');
        const player2 = document.getElementById('player2');
        const rope = document.getElementById('rope');
        const player1ScoreDisplay = document.getElementById('player1-score');
        const player2ScoreDisplay = document.getElementById('player2-score');
        const timeLeftDisplay = document.getElementById('time-left');

        let player1Score = 0;
        let player2Score = 0;
        let timeLeft = 60; // Time limit in seconds
        let gameInterval;

        document.addEventListener('keydown', function(event) {
            if (event.key === 'a') {
                movePlayer(player1, 10);
            } else if (event.key === 'l') {
                movePlayer(player2, -10);
            }
        });

        function movePlayer(player, step) {
            const playerPos = parseInt(player.style.left) || 0;
            player.style.left = playerPos + step + 'px';
            checkWinner();
        }

        function checkWinner() {
            const player1Pos = parseInt(player1.style.left) || 0;
            const player2Pos = parseInt(player2.style.left) || 0;
            const ropePos = parseInt(rope.style.left) || 0;

            if (player1Pos >= ropePos) {
                player1Score++;
                player1ScoreDisplay.textContent = player1Score;
                resetGame();
                alert('Player 1 Wins!');
            } else if (player2Pos <= ropePos) {
                player2Score++;
                player2ScoreDisplay.textContent = player2Score;
                resetGame();
                alert('Player 2 Wins!');
            }
        }

        function resetGame() {
            clearInterval(gameInterval);
            player1.style.left = 0;
            player2.style.left = 0;
            timeLeft = 60;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            timeLeftDisplay.textContent = timeLeft;
        }

        function startTimer() {
            gameInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                if (timeLeft <= 0) {
                    clearInterval(gameInterval);
                    alert('Time\'s up! Game over.');
                    resetGame();
                }
            }, 1000);
        }

        // Start the game
        startTimer();
    </script>
</body>
</html>